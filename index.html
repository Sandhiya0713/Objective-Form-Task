<!DOCTYPE html>
<html>
  <title>Objective-Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
  />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <body>
    <div class="loginPopup">
      <div class="formPopup" id="popupForm">
        <form class="col-lg-12 form-container">
          <p>
            <label>Objective</label>
            <input class="form-input" type="text" id="first_name" />
          </p>
          <p>
            <label>Period</label>
            <input class="form-input" type="text" id="last_name" />
          </p>
          <p>
            <button type="button" class="save-button" id="save">
              Create Objective
            </button>
            <button type="button" class="close-button" onclick="closeForm()">
              Close
            </button>
            <closeform></closeform>
          </p>
        </form>
      </div>

      <!-- Key Form -->
      <div class="formPopup" id="keyPopupForm">
        <form class="col-lg-12 form-container">
          <p>
            <label>What will show that you achieved this objective</label>
            <input class="form-input" type="text" id="key_objective" />
          </p>
          <p>
            <label>Period</label>
            <input
              class="form-input"
              type="text"
              placeholder="What period does this apply to?"
              id="key_period"
            />
          </p>
          <p>
            <button type="button" class="save-button" id="save_keyForm">
              Create key result
            </button>
            <button type="button" class="close-button" onclick="closeForm()">
              Close
            </button>
            <closeform></closeform>
          </p>
        </form>
      </div>
    </div>

    <div class="col-lg-12 justify-content-center">
      <br />
      <div class="main-header">
        <h1>My Objectives</h1>
        <button class="openButton" onclick="openForm()">
          &plus; Objective
        </button>
      </div>

      <table class="obj-table" id="myTable">
        <thead>
          <tr>
            <th></th>
            <th>Become Insanely rish</th>
            <th>01-2022,02-2022</th>
            <th></th>
            <th>
              <a href="javascript:void(0);" class="btn-small keyBtn">
                &plus;Key Result</a
              >
            </th>
          </tr>
          <tr class="table-data">
            <td></td>
            <td>Spend Less Money</td>
            <td>May 31,2022 4:14 pm</td>
          </tr>
          <tr class="table-data">
            <td></td>
            <td>Spend Less Money</td>
            <td>June 2, 2022 3:16 pm</td>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <script type="text/javascript">
      function openForm() {
        document.getElementById("popupForm").style.display = "block";
      }
      function openKeyForm() {
        document.getElementById("keyPopupForm").style.display = "block";
      }
      function closeForm() {
        document.getElementById("popupForm").style.display = "none";
        document.getElementById("keyPopupForm").style.display = "none";
      }

      $("#save").on("click", function () {
        var first_name = $("#first_name").val();
        var last_name = $("#last_name").val();
        var count = $("#myTable").length;
        if (first_name != "" && last_name != "") {
          $("#myTable thead").append(
            '<tr class="child"><th>' +
              "</th><th>" +
              first_name +
              "</th><th>" +
              last_name +
              "</th><th>" +
              '</th><th><a href="javascript:void(0);" class="btn-small keyBtn" onclick="openKeyForm()"> &plus;Key Result</a></th></tr>'
          );
          $("form").trigger("reset");
          document.getElementById("popupForm").style.display = "none";
          $("#save_keyForm").on("click", function () {
            var key_objective = $("#key_objective").val();
            var key_period = $("#key_period").val();
            var count = $("#myTable").length;
            if (key_objective != "" && key_period != "") {
              $("#myTable thead").append(
                '<tr class="child"><td>' +
                  "</td><td>" +
                  key_objective +
                  "</td><td>" +
                  key_period +
                  "</td><td>" +
                  " " +
                  "</td>"
              );
              $("form").trigger("reset");
              document.getElementById("keyPopupForm").style.display = "none";
            }
          });
        }
      });
    </script>
  </body>
</html>
